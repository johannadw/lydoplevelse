{"ast":null,"code":"import _slicedToArray from\"/Users/johannadeweerdt/Documents/school/erasmus/code/lydoplevelse-test/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef}from\"react\";import{useDrag,useDrop}from\"react-dnd\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var QueueListItem=function QueueListItem(_ref){var queueItem=_ref.queueItem,editQueue=_ref.editQueue,removeFromQueue=_ref.removeFromQueue,playFromQueue=_ref.playFromQueue,index=_ref.index,moveQueueListItem=_ref.moveQueueListItem;// useDrag - the list item is draggable\nvar _useDrag=useDrag({type:'item',item:{index:index},collect:function collect(monitor){return{isDragging:monitor.isDragging()};}}),_useDrag2=_slicedToArray(_useDrag,2),isDragging=_useDrag2[0].isDragging,dragRef=_useDrag2[1];// useDrop - the list item is a drop area\nvar _useDrop=useDrop({accept:'item',hover:function hover(item,monitor){var _ref$current;var dragIndex=item.index;var hoverIndex=index;var hoverBoundingRect=(_ref$current=ref.current)===null||_ref$current===void 0?void 0:_ref$current.getBoundingClientRect();var hoverMiddleY=(hoverBoundingRect.bottom-hoverBoundingRect.top)/2;var hoverActualY=monitor.getClientOffset().y-hoverBoundingRect.top;// if dragging down, continue only when hover is smaller than middle Y\n// if dragging down, continue only when hover is smaller than middle Y\nif(dragIndex<hoverIndex&&hoverActualY<hoverMiddleY)return;// if dragging up, continue only when hover is bigger than middle Y\n// if dragging up, continue only when hover is bigger than middle Y\nif(dragIndex>hoverIndex&&hoverActualY>hoverMiddleY)return;moveQueueListItem(dragIndex,hoverIndex);item.index=hoverIndex;}}),_useDrop2=_slicedToArray(_useDrop,2),spec=_useDrop2[0],dropRef=_useDrop2[1];// Join 2 refs together into 1\nvar ref=useRef(null);var dragDropRef=dragRef(dropRef(ref));// Make items being dragged transparent\nvar opacity=isDragging?0.2:1;return/*#__PURE__*/_jsx(_Fragment,{children:editQueue?/*#__PURE__*/_jsx(\"div\",{className:\"queue-item\",style:{opacity:opacity},children:/*#__PURE__*/_jsxs(\"div\",{className:\"current-info \".concat(editQueue?'edit-queue':''),children:[/*#__PURE__*/_jsx(\"img\",{src:require(\"../../assets/icons/close_black.svg\").default,alt:\"\",className:\"remove-icon\",onClick:function onClick(){return removeFromQueue(queueItem);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"current-info-about\",onClick:function onClick(){return editQueue?'':playFromQueue(queueItem);},children:[/*#__PURE__*/_jsx(\"p\",{className:\"current-title\",children:queueItem.title}),queueItem.readLoud?/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",queueItem.type==\"oplæst artikel\"?/*#__PURE__*/_jsxs(\"p\",{className:\"current-reading\",children:[\"Opl\\xE6st af \",queueItem.writer]}):/*#__PURE__*/_jsx(\"p\",{className:\"current-reading\",children:\"Automatisk opl\\xE6st\"}),\" \"]}):\"\",queueItem.podcast?/*#__PURE__*/_jsxs(\"p\",{className:\"current-reading\",children:[\"Podcast: \",queueItem.podcast]}):\"\",queueItem.duration?/*#__PURE__*/_jsxs(\"div\",{className:\"current-details\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"current-detail\",children:queueItem.date}),/*#__PURE__*/_jsx(\"div\",{className:\"current-divider\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"current-detail\",children:[\"Lyttetid: \",queueItem.duration]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"current-details\",children:/*#__PURE__*/_jsx(\"p\",{className:\"current-detail\",children:queueItem.date})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"change-order\",children:/*#__PURE__*/_jsx(\"img\",{src:require(\"../../assets/icons/change_order.svg\").default,alt:\"\",className:\"change-icon\",ref:dragDropRef})})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"queue-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"current-info \".concat(editQueue?'edit-queue':''),children:[/*#__PURE__*/_jsx(\"img\",{src:require(\"../../assets/icons/play.svg\").default,alt:\"\",className:\"current-icon\",onClick:function onClick(){return editQueue?'':playFromQueue(queueItem);}}),/*#__PURE__*/_jsx(Link,{to:\"/article/\".concat(queueItem.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"current-info-about\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"current-title\",children:queueItem.title}),queueItem.readLoud?/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",queueItem.type==\"oplæst artikel\"?/*#__PURE__*/_jsxs(\"p\",{className:\"current-reading\",children:[\"Opl\\xE6st af \",queueItem.writer]}):/*#__PURE__*/_jsx(\"p\",{className:\"current-reading\",children:\"Automatisk opl\\xE6st\"}),\" \"]}):\"\",queueItem.podcast?/*#__PURE__*/_jsxs(\"p\",{className:\"current-reading\",children:[\"Podcast: \",queueItem.podcast]}):\"\",queueItem.duration?/*#__PURE__*/_jsxs(\"div\",{className:\"current-details\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"current-detail\",children:queueItem.date}),/*#__PURE__*/_jsx(\"div\",{className:\"current-divider\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"current-detail\",children:[\"Lyttetid: \",queueItem.duration]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"current-details\",children:/*#__PURE__*/_jsx(\"p\",{className:\"current-detail\",children:queueItem.date})})]})})]})})});};export default QueueListItem;","map":{"version":3,"sources":["/Users/johannadeweerdt/Documents/school/erasmus/code/lydoplevelse-test/src/components/Player/QueueListItem.js"],"names":["useRef","useDrag","useDrop","Link","QueueListItem","queueItem","editQueue","removeFromQueue","playFromQueue","index","moveQueueListItem","type","item","collect","monitor","isDragging","dragRef","accept","hover","dragIndex","hoverIndex","hoverBoundingRect","ref","current","getBoundingClientRect","hoverMiddleY","bottom","top","hoverActualY","getClientOffset","y","spec","dropRef","dragDropRef","opacity","require","default","title","readLoud","writer","podcast","duration","date","id"],"mappings":"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","sourcesContent":["import { useRef } from \"react\"\nimport { useDrag, useDrop } from \"react-dnd\"\nimport { Link } from \"react-router-dom\"\n\n\nconst QueueListItem = ({ queueItem, editQueue, removeFromQueue, playFromQueue, index, moveQueueListItem }) => {\n\n  // useDrag - the list item is draggable\n  const [{ isDragging }, dragRef] = useDrag({\n    type: 'item',\n    item: { index },\n    collect: ( monitor ) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  })\n\n  // useDrop - the list item is a drop area\n  const [spec, dropRef] = useDrop({\n    accept: 'item',\n    hover: (item, monitor) => {\n      const dragIndex = item.index\n      const hoverIndex = index\n      const hoverBoundingRect = ref.current?.getBoundingClientRect()\n      const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2\n      const hoverActualY = monitor.getClientOffset().y - hoverBoundingRect.top\n      \n      // if dragging down, continue only when hover is smaller than middle Y\n      if ( dragIndex < hoverIndex && hoverActualY < hoverMiddleY ) return\n      // if dragging up, continue only when hover is bigger than middle Y\n      if ( dragIndex > hoverIndex && hoverActualY > hoverMiddleY ) return\n      \n      moveQueueListItem(dragIndex, hoverIndex)\n      item.index = hoverIndex\n    }\n  })\n\n  // Join 2 refs together into 1\n  const ref = useRef(null)\n  const dragDropRef = dragRef(dropRef(ref))\n\n  // Make items being dragged transparent\n  const opacity = isDragging ? 0.2 : 1\n\n  return (\n    <>\n    { editQueue \n      ? <div className=\"queue-item\" style={{ opacity }}    >\n          <div className={`current-info ${ editQueue ? 'edit-queue' : '' }`}>\n            <img src={ require(\"../../assets/icons/close_black.svg\").default } alt=\"\" className=\"remove-icon\" onClick={ () => ( removeFromQueue(queueItem) )} />\n            <div className=\"current-info-about\" onClick={ () => ( editQueue ? '' : playFromQueue( queueItem ) ) } >\n              <p className=\"current-title\">{ queueItem.title }</p>\n\n              { queueItem.readLoud \n                  ? <> { queueItem.type == \"oplæst artikel\" ? <p className=\"current-reading\">Oplæst af {queueItem.writer}</p> : <p className=\"current-reading\">Automatisk oplæst</p> } </>\n                  : \"\"\n              }\n              { queueItem.podcast ? <p className=\"current-reading\">Podcast: {queueItem.podcast}</p> : \"\" }\n\n              { queueItem.duration \n                ? <div className=\"current-details\">\n                    <p className=\"current-detail\">{ queueItem.date }</p>\n                    <div className=\"current-divider\"></div>\n                    <p className=\"current-detail\">Lyttetid: { queueItem.duration }</p>\n                  </div>\n                : <div className=\"current-details\">\n                    <p className=\"current-detail\">{ queueItem.date }</p>\n                  </div> }\n            </div>\n            <div className=\"change-order\">\n              <img src={ require(\"../../assets/icons/change_order.svg\").default } alt=\"\" className=\"change-icon\" ref={ dragDropRef }/>\n            </div>\n          </div>\n        </div>\n      : <div className=\"queue-item\" >\n          <div className={`current-info ${ editQueue ? 'edit-queue' : '' }`}>\n            <img src={ require(\"../../assets/icons/play.svg\").default } alt=\"\" className=\"current-icon\" onClick={ () => ( editQueue ? '' : playFromQueue( queueItem ) ) }/>\n            <Link to={`/article/${ queueItem.id }`}>\n              <div className=\"current-info-about\"  >\n                <p className=\"current-title\">{ queueItem.title }</p>\n\n                { queueItem.readLoud \n                    ? <> { queueItem.type == \"oplæst artikel\" ? <p className=\"current-reading\">Oplæst af {queueItem.writer}</p> : <p className=\"current-reading\">Automatisk oplæst</p> } </>\n                    : \"\"\n                }\n                { queueItem.podcast ? <p className=\"current-reading\">Podcast: {queueItem.podcast}</p> : \"\" }\n\n                { queueItem.duration \n                  ? <div className=\"current-details\">\n                      <p className=\"current-detail\">{ queueItem.date }</p>\n                      <div className=\"current-divider\"></div>\n                      <p className=\"current-detail\">Lyttetid: { queueItem.duration }</p>\n                    </div>\n                  : <div className=\"current-details\">\n                      <p className=\"current-detail\">{ queueItem.date }</p>\n                    </div> }\n              </div>\n            </Link>\n          </div>\n        </div>\n    }\n    </>\n  )\n}\n\nexport default QueueListItem"]},"metadata":{},"sourceType":"module"}